---
format: 
  revealjs:
    #theme: ["theme/q-theme.scss"]
    slide-number: c/t
    logo: "https://www.insp.mx/assets/images/insp.png"
    footer: "[github.com/fdzul](https://github.com/fdzul)"
    code-copy: true
    center-title-slide: false
highlight-style: a11y
code-link: true
height: 1080
width: 1600
execute: 
  eval: true
  echo: true
---

<h1>[Análisis Espacial del Dengue]{style="color:#003300;"}<br>en México</h1>

<h2> </h2>

<hr>
<br> 
<h3>Alumno</h3>
<h3>[Dr. Felipe Dzul Manzanilla]{style="color:#620002;"} </h3>
<br> 
<h3>Director </h3>
<h3>[Dr. Héctor Gómez-Dantés]{style="color:#620002;"}</h3>
<h3>Co-directora </h3>
<h3>Dra. Victoria Pando</h3>
<h3> Date:   2024-07-27</h3>

<br> 

![](odmap.png){.absolute top="300" left="700" width="1000"}


## [Hipótesis & Objetivo General]{style="color:#003300;"}
<hr style="height:2px;border-width:0;color:#330019;background-color:#330019">

&nbsp;

### Hipótesis

La concordancia espacial entre el [binomio hotspots de la transmisión persistente-hotspots de la abundancia persistente del vector]() y el [trinomio cadenas de transmisión-hotspots de la abundancia-mapas de calor](), proporcionan un marco de estratificación para la [identificación de los escenarios escenarios epidemiológicos u operativos]() que permiten desarrollar un modelo estratégico de focalización para el control integrado de las arbovirosis

&nbsp;

### Meta

[Desarrollar un modelo estratégico de focalización del dengue en México.]()

&nbsp;

### Objetivo General

[Realizar el Análisis Espacial de las Arbovirosis en México.]()


## [Objetivos Específicos]{style="color:#003300;"}
<hr style="height:2px;border-width:0;color:#330019;background-color:#330019">
&nbsp;

[**1. Identificar los hotspots de la transmisión persistente de las arbovirosis en localidades prioritarias.**]{style="color:#620002;"}

[**2. Identificar los hotspots de abundancia persistente del vector en localidades prioritarias.**]{style="color:#620002;"}

[**3. Determinar la concordancia espacial entre los hotspots de la transmisión persistente y los hotspots de abundancia persistente del vector en las localidades prioritarias.**]{style="color:#620002;"}

[**4. Identificar las cadenas de transmisión activa de las arbovirosis en localidades prioritarias.**]{style="color:#003300;"}

[**5. Identificar las áreas con mayor concentración de transmisión activa (mapas de calor) en las localidades prioritarias.**]{style="color:#003300;"}

[**6. Identificar los hotspots de abundancia reciente del vector en localidades prioritarias.**]{style="color:#003300;"}

[**7. Determinar la concordancia espacial entre las cadenas de transmisión, lo mapas de calor y los hotspots de abundancia reciente del vector en las localidades prioritarias.**]{style="color:#003300;"}

[8. Desarrollar un modelo estratégico de focalización del dengue en las localidades prioritarias.]()

## [Flujograma del Análisis Espacial de la Transmisión del Dengue]{.r-fit-text style="color:#003300;" auto-animate="true"}
<hr style="height:2px;border-width:0;color:#330019;background-color:#330019">


:::: {.columns}

::: {.column style="width: 50%"}
```{r, dpi = 300, echo=FALSE, out.width='100%', fig.align ="center"}
DiagrammeR::grViz("digraph {
                  # graph definitions
  graph [layout = dot, rankdir = TB]
  
  # node definitions
  node [shape = rectangle, 
  style = filled, 
  color = grey, 
  nodesep = .5,
  fixedsize = true, 
  width = 2.5] 
  
  # edge definition
  edge [color = grey, arrowhead = normal, arrowtail = dot]
  
  ##### epidemiological data
  
  epi [label = 'Vigilancia Epidemiológica',  fillcolor =  '#DB4437', color = 'white', fontcolor = 'white']
  data_historic [label = 'Transmision Persistente',  fillcolor =  'gray', color = 'white', fontcolor = 'white']
  data_datos_actuales [label = 'Transmisión Reciente',  fillcolor =  'gray', color = 'white', fontcolor = 'white']
  data_acumulados [label = 'Transmisión Reciente',  fillcolor =  'gray', color = 'white', fontcolor = 'white']
  data_trans_activa [label = 'Transmisión Activa',  fillcolor =  'gray', color = 'white', fontcolor = 'white']
  
  
  ##### Spatial Data
  
  areal [label = 'Areal Data',  fillcolor =  '#0F9D58', color = 'white', fontcolor = 'white']
  pp_data [label = 'Point Pattern Data',  fillcolor =  ' #0F9D58', color = 'white', fontcolor = 'white']
  
  
 
 # Análisis 
 hotspots [label = 'Hotspots Analysis',  fillcolor =  'orange', color = 'white', fontcolor = 'black']
 cadenas [label = 'Cadenas de Transmisión',  fillcolor =  'orange', color = 'white', fontcolor = 'black']
 cluster_ana [label = 'Cluster Analysis',  fillcolor =  'orange', color = 'white', fontcolor = 'black']
 lgcp [label = 'Spatial LGCP',  fillcolor =  'orange', color = 'white', fontcolor = 'black']
 
 heatmap [label = 'Mapas de Calor',  fillcolor =  'orange', color = 'white', fontcolor = 'black']
 
 
 # software
 
 geoda [label = 'Geoda',  fillcolor =  'DodgerBlue', color = 'white', fontcolor = 'white']
 cluster_s [label = 'ClusterSeer',  fillcolor =  'DodgerBlue', color = 'white', fontcolor = 'white']
 satscan [label = 'SatScan',  fillcolor =  'DodgerBlue', color = 'white', fontcolor = 'white']
 
 r_rstudio [label = 'R & RStudio',  fillcolor =  'DodgerBlue', color = 'white', fontcolor = 'white']

  denhotspot [label = 'denhotspots Package',  fillcolor =  'DodgerBlue', color = 'white', fontcolor = 'white'] 
 
 ##### define the relation
 
 epi -> {data_historic  data_datos_actuales}
 data_historic -> areal -> hotspots -> geoda
 data_datos_actuales -> {data_acumulados, data_trans_activa} -> pp_data -> {cadenas lgcp cluster_ana heatmap}
 cadenas -> cluster_s
 cluster_ana -> satscan
 
 {geoda cluster_s satscan lgcp} -> r_rstudio -> denhotspot
 
}", heigh = "700px",
width = "800px")

```
:::

::: {.column style="width: 50%"}
```{r, echo=FALSE, out.width='100%', fig.align='center'}
DiagrammeR::grViz("digraph {
                  # graph definitions
  graph [layout = dot, rankdir = TB]
  
  # node definitions
  node [shape = rectangle, 
  style = filled, 
  color = grey, 
  nodesep = .5,
  fixedsize = true, 
  width = 2.5] 
  
  # edge definition
  edge [color = grey, arrowhead = normal, arrowtail = dot]
  
  ##### entomological data
  
  ento [label = 'Vigilancia Entomológica',  fillcolor =  '#FF5A5F', color = 'white', fontcolor = 'white']
  data_historic [label = 'Datos Históricos',  fillcolor =  'gray', color = 'white', fontcolor = 'white']
  
  years  [label = '2014-2019',  fillcolor =  'gray', color = 'white', fontcolor = 'white']
  data_datos_actuales [label = 'Datos del Año Actual',  fillcolor =  'gray', color = 'white', fontcolor = 'white']
  data_acumulados [label = 'Datos hasta la Semana Actual',  fillcolor =  'gray', color = 'white', fontcolor = 'white']
  data_trans_activa [label = 'Semana Actual',  fillcolor =  'gray', color = 'white', fontcolor = 'white']
  
  
  ##### Spatial Data
  
  geo_data [label = 'Geoestatistical Data',  fillcolor =  '#0F9D58', color = 'white', fontcolor = 'white']
 
  
 
 # Análisis 
 spde [label = 'SPDE-INLA',  fillcolor =  'orange', color = 'white', fontcolor = 'black']
 hotspots [label = 'Hotspots Analysis',  fillcolor =  'orange', color = 'white', fontcolor = 'black']
 #prediction [label = 'Predicción Espacial de Huevos',  fillcolor =  'orange', color = 'white', fontcolor = 'black']
 
 # entomological study
 ovitraps [label = 'Ovitrampas',  fillcolor =  'orange', color = 'white', fontcolor = 'black']
  enc_ver [label = 'Encuesta-Verificación',  fillcolor =  'orange', color = 'white', fontcolor = 'black']
  adults [label = 'Colecta de Adultos',  fillcolor =  'orange', color = 'white', fontcolor = 'black']
 
 
 # software
 r_rstudio [label = 'R & RStudio',  fillcolor =  'DodgerBlue', color = 'white', fontcolor = 'white']
 deneggs [label = 'deneggs Package',  fillcolor =  'DodgerBlue', color = 'white', fontcolor = 'white'] 
 
 
 
 
 ##### define the relation
 
 
 ento -> {ovitraps  enc_ver adults} 
 
 {ovitraps adults} -> geo_data -> {data_historic data_datos_actuales}
 data_historic -> years
 
 data_datos_actuales -> {data_acumulados data_trans_activa}
 
 {years data_acumulados data_trans_activa} ->spde -> hotspots
 
 {hotspots} -> r_rstudio -> deneggs
 
}", heigh = "800px",
width = "800px")

```

:::

::::


## [Desarrollo Conceptual del **Modelo Estratégico de Focalización del Dengue**]{.r-fit-text style="color:#003300;"}
<hr style="height:2px;border-width:0;color:#330019;background-color:#330019">


:::: {.columns}

::: {.column style="width: 50%"}
Concepto

![](https://github.com/fdzul/spatial_analysis_dengue_R_2024_talks/blob/main/talks/mia/transmision_persistente.jpg?raw=true){.absolute right="800" height="815"}
:::

:::{.column style="width: 50%"}
Mapa de riesgo
<img src = "https://github.com/fdzul/spatial_analysis_dengue_R_2024_talks/blob/main/talks/spatial_analysis_dengue/fig/map_risk_guadalajara.jpg?raw=true">
:::

::::

## [Definición de los Escenarios Operativos ó Epidemiológicos]{.r-fit-text style="color:#003300;"}
<hr style="height:2px;border-width:0;color:#330019;background-color:#330019">

:::: {.columns}

::: {.column style="width: 40%;font-size: 100%"}
&nbsp;

<span style="color:#F44B1FFF;">Riesgo Muy Alto de Transmisión.</span> Hotposts de casos + hotspots del vector.

&nbsp;

<span style="color:#FF9000FF;">Riesgo Alto de Transmisión.</span> Hotspots de transmisión.

&nbsp;

<span style="color:gold;">Riesgo Medio de Transmisión.</span>
Hotspots del vector.

&nbsp;

<span style="color:#00F293FF;">Riesgo Bajo de Transmisión.</span>
Sin hotspots de transmisión o hotspots del vector.

:::

::: {.column style="width: 60%"}
```{r risk_merida2}
#| fig-width: 10
#| fig-height: 10
#| echo: false
# Step 1. calculate the risk ####
risk <- denhotspots::risk_ageb(betas = denmex::eggs_betas_31_yucatan,
                               hotspots = denmex::den_hotspots,
                               intensity_perc = 25,
                               locality = "Mérida",
                               cve_edo = "31")

# Step 2. map ####
denhotspots::map_risk(risk = risk,
                      staticmap = TRUE)
```
:::

::::



## [Avances de la Identificación de Escenarios Epidemiológicos]{.r-fit-text style="color:#003300;"}
<hr style="height:2px;border-width:0;color:#330019;background-color:#330019">

&nbsp;

&nbsp;

| Date | Reporte | Estados |
|------------------|:----------------:|:----------------:|
|  [2024-02-14](https://musical-fox-22668c.netlify.app/talks/persistent_transmission/#/transmisión-persistente-abundancia-persistente-avances)      | Primer reporte   |      12          |
|  [2024-05-13](https://astonishing-torrone-4d3c22.netlify.app/talks/hotspots_mzmv/#/transmisión-persistente-abundancia-persistente-avances)      | Segundo reporte  |      22          |
|  [2024-07-27](https://glowing-conkies-a3b760.netlify.app/talks/transmision_persistente/#/)      | Tercer reporte.  |      32          |



## [Avances de la Identificación de Escenarios Epidemiológicos]{.r-fit-text style="color:#003300;"}
<hr style="height:2px;border-width:0;color:#330019;background-color:#330019">


:::: {.columns}

::: {.column style="width: 33.3%; font-size: 90%"}
|Estados Trabajados|
|------------------|
| [01 Aguascalientes](https://dashing-manatee-5aedb8.netlify.app)          | 
| [02 Baja California](https://dazzling-taffy-ac0fd2.netlify.app)          |
| [03 Baja California Sur](https://fascinating-youtiao-a1f6f7.netlify.app) |
| [04 Campeche](https://phenomenal-hotteok-02e188.netlify.app)             | 
| [05 Coahuila](https://strong-kelpie-ecc3ea.netlify.app)                  |
| [06 Colima](https://silver-moxie-30857b.netlify.app)                     |
| [07 Chiapas](https://adorable-tiramisu-303de1.netlify.app)               |
| 08 Chihuahua                                                             |
| 09 Ciudad de México                                                      |
| [10 Durango](https://preeminent-nougat-6307ee.netlify.app)               |
| [11 Guanajuato](https://sparkly-concha-17d36d.netlify.app)               |
| [12 Guerrero](https://astounding-squirrel-94dd18.netlify.app)            |

:::

::: {.column style="width: 33.3%; font-size: 90%"}
|Estados Trabajados|
|------------------|
|[13 Hidalgo](https://incredible-arithmetic-3dc5ed.netlify.app)            | 
| [14 Jalisco](https://heartfelt-fudge-936865.netlify.app)                 |
| [15 Estado de México](https://inquisitive-tartufo-8d5181.netlify.app)    |
| [16 Michoacán](https://fabulous-mermaid-31ea6a.netlify.app)              |
| [17 Morelos](https://glistening-griffin-b8023f.netlify.app)              |
| [18 Nayarit](https://idyllic-granita-6918af.netlify.app)                 |
| [19 Nuevo León](https://starlit-lolly-ad7d14.netlify.app)                |
| [20 Oaxaca](https://merry-figolla-08f5bf.netlify.app)                    |
| [21 Puebla](https://snazzy-figolla-e17977.netlify.app/#)                 |
| 22 Queretaro                                                             |
| [23 Quintana Roo](https://helpful-pegasus-ba8bb9.netlify.app)            |
| [24 San Luis Potosí](https://wonderful-belekoy-db9c08.netlify.app)       |

:::

::: {.column style="width: 33.3%; font-size: 90%"}
|Estados Trabajados|
|------------------|
| [25 Sinaloa](https://cosmic-dusk-10e889.netlify.app)                     |
| [26 Sonora](https://soft-donut-e34403.netlify.app)                       |
| [27 Tabasco](https://capable-torrone-6eae7f.netlify.app)                 |
| [28 Tamaulipas](https://zingy-tarsier-e2570c.netlify.app)                |
| 29 Tlaxcala                                                              |
| [30 Veracruz](https://zippy-bunny-bdd8c7.netlify.app)                    |
| [31 Yucatán](https://keen-dango-d1cd7e.netlify.app)                      |
| [32 Zacatecas](https://mellifluous-banoffee-e28771.netlify.app)          |  

:::

::::


## [Avances de la Identificación de Escenarios Epidemiológicos]{.r-fit-text style="color:#003300;"}
<hr style="height:2px;border-width:0;color:#330019;background-color:#330019">

| Estado                                                                   | Hotspots del Dengue | Hotspots del Vector | Escenarios |
|------------------|:----------------:|:----------------:|:----------------:|
| [01 Aguascalientes](https://dashing-manatee-5aedb8.netlify.app)          |          0          |          1          |     0      |
| [02 Baja California](https://dazzling-taffy-ac0fd2.netlify.app)          |          1          |          2          |     1      |
| [03 Baja California Sur](https://fascinating-youtiao-a1f6f7.netlify.app) |          3          |          3          |     3      |
| [04 Campeche](https://phenomenal-hotteok-02e188.netlify.app)             |          3          |          3          |     3      |
| [05 Coahuila](https://strong-kelpie-ecc3ea.netlify.app)                  |          2          |          5          |     2      |
| [06 Colima](https://silver-moxie-30857b.netlify.app)                     |          4          |          4          |     3      |
| [07 Chiapas](https://adorable-tiramisu-303de1.netlify.app)               |          9          |          2          |     2      |
| 08 Chihuahua                                                             |          0          |          0          |     0      |
| 09 Ciudad de México                                                      |          1          |          1          |     1      |
| [10 Durango](https://preeminent-nougat-6307ee.netlify.app)               |          1          |          3          |     1      |
| [11 Guanajuato](https://sparkly-concha-17d36d.netlify.app)               |          1          |          6          |     1      |
| [12 Guerrero](https://astounding-squirrel-94dd18.netlify.app)            |          4          |          4          |     4      |


## [Avances de la Identificación de Escenarios Epidemiológicos]{.r-fit-text style="color:#003300;"}
<hr style="height:2px;border-width:0;color:#330019;background-color:#330019">

| Estado                                                                   | Hotspots del Dengue | Hotspots del Vector | Escenarios |
|------------------|:----------------:|:----------------:|:----------------:|
| [13 Hidalgo](https://incredible-arithmetic-3dc5ed.netlify.app)           |          0          |          5          |     0      |
| [14 Jalisco](https://heartfelt-fudge-936865.netlify.app)                 |          5          |          6          |     5      |
| [15 Estado de México](https://inquisitive-tartufo-8d5181.netlify.app)    |          0          |          2          |     0      |
| [16 Michoacán](https://fabulous-mermaid-31ea6a.netlify.app)              |          4          |          8          |     4      |
| [17 Morelos](https://glistening-griffin-b8023f.netlify.app)              |          2          |          3          |     2      |
| [18 Nayarit](https://idyllic-granita-6918af.netlify.app)                 |          2          |          1          |     1      |
| [19 Nuevo León](https://starlit-lolly-ad7d14.netlify.app)                |          6          |          4          |     3      |
| [20 Oaxaca](https://merry-figolla-08f5bf.netlify.app)                    |          7          |         14          |     7      |
| [21 Puebla](https://snazzy-figolla-e17977.netlify.app/#)                 |          3          |          6          |     3      |
| 22 Queretaro                                                             |          0          |          0          |     0      |
| [23 Quintana Roo](https://helpful-pegasus-ba8bb9.netlify.app)            |          5          |          4          |     4      |
| [24 San Luis Potosí](https://wonderful-belekoy-db9c08.netlify.app)       |          2          |          3          |     1      |

## [Avances de la Identificación de Escenarios Epidemiológicos]{.r-fit-text style="color:#003300;"}
<hr style="height:2px;border-width:0;color:#330019;background-color:#330019">

&nbsp;

| Estado                                                                   | Hotspots del Dengue | Hotspots del Vector | Escenarios |
|------------------|:----------------:|:----------------:|:----------------:|
| [25 Sinaloa](https://cosmic-dusk-10e889.netlify.app)                     |          5          |          5          |     5      |
| [26 Sonora](https://soft-donut-e34403.netlify.app)                       |          4          |          4          |     4      |
| [27 Tabasco](https://capable-torrone-6eae7f.netlify.app)                 |          5          |         13          |     5      |
| [28 Tamaulipas](https://zingy-tarsier-e2570c.netlify.app)                |          7          |          6          |     6      |
| 29 Tlaxcala                                                              |          0          |          0          |     0      |
| [30 Veracruz](https://zippy-bunny-bdd8c7.netlify.app)                    |         13          |         11          |     13     |
| [31 Yucatán](https://keen-dango-d1cd7e.netlify.app)                      |          4          |          7          |     4      |
| [32 Zacatecas](https://mellifluous-banoffee-e28771.netlify.app)          |          1          |          6          |     1      |


## [Alternativas para generar Escenarios Epidemiológicos]{.r-fit-text style="color:#003300;"}
<hr style="height:2px;border-width:0;color:#330019;background-color:#330019">

&nbsp;

| Estado | Probabilidad de Casos | Probabilidad del Vector | Hotspots del Vector |
|---------|:-----|------:|:------:|
| 01 Aguascalientes   | TRUE | FALSE | TRUE    |
| 13 Hidalgo          | TRUE | FALSE | TRUE    |
| 15 Estado de México | TRUE | FALSE | TRUE    |
| 22 Queretaro        | TRUE | TRUE  | FALSE   |
| 08 Chihuahua        | TRUE | TRUE  | FALSE   |
| 29 Tlaxcala         | TRUE | TRUE  | FALSE   |

&nbsp;

En los estados como Yucatán, Tabasco, Oaxaca, Michoacán y Guanajuato, 
se tiene que geocodificar todo el estado, no solo localidades prioritarias.



## [Dios Botic]{style="color:#003300;"}
<hr style="height:2px;border-width:0;color:#330019;background-color:#330019">

-   ***Bio*** : [https://fdzul.github.io/web_site_fadm/]()

-   ***email*** : [felipe.dzul.m\@gmail.com]()

-   ***celular*** : [9999580167]()

-   ***slide***: [link](https://glowing-conkies-a3b760.netlify.app/talks/transmision_persistente/#/)
